<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Connections Arcade</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>Connections Arcade</h1>
    <div class="controls">
      <button id="btn-new" class="btn">New game</button>
      <button id="btn-change-player" class="btn">Change player</button>
      <button id="lb-refresh" class="btn btn-ghost">Refresh leaderboard</button>
      <label class="note" id="today-note"></label>
    </div>
  </header>

  <main class="wrap">
    <div class="status">
      <span id="status-text">Solved 0/4 · Strikes 0/4</span>
    </div>

    <!-- Game grid + solved groups render here -->
    <section id="game" class="game"></section>

    <!-- Toast -->
    <div id="toast" class="toast"></div>

    <!-- Player Gate (overlay) -->
    <div id="player-gate" class="gate" style="display:none;">
      <div class="gate-card">
        <h2>Select a player</h2>
        <div class="field">
          <label for="player-select">Players</label>
          <select id="player-select"></select>
        </div>

        <div id="new-name-field" class="field" style="display:none;">
          <label for="new-player-name">New player name</label>
          <input id="new-player-name" type="text" maxlength="24" placeholder="Type a name…" />
        </div>

        <button id="gate-continue" class="btn btn-primary">Continue</button>
      </div>
    </div>

    <!-- Leaderboards -->
    <section class="leaderboards">
      <div class="lb">
        <h3>Top (Arcade)</h3>
        <ul id="lb-today" class="lb-list"></ul>
        <div id="lb-today-empty" class="lb-empty">No scores yet.</div>
      </div>
      <div class="lb">
        <h3>All-time (Arcade)</h3>
        <ul id="lb-alltime" class="lb-list"></ul>
        <div id="lb-all-empty" class="lb-empty">No scores yet.</div>
      </div>
    </section>
  </main>

  <!-- Hidden daily toggle (not used in arcade, but referenced safely) -->
  <input type="checkbox" id="daily-toggle" hidden />

  <!-- Supabase creds (set yours here) -->
  <script>
    window.SUPABASE_URL = 'https://YOUR-PROJECT.supabase.co';
    window.SUPABASE_ANON_KEY = 'YOUR_PUBLIC_ANON_KEY';
  </script>

  <!-- App -->
  <script type="module" src="./app.js"></script>
</body>
</html>
